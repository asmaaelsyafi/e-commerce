<section>
    <h1 class="text-center text-main my-2">Forget Password</h1>
    @if (step==1) {
    <form [formGroup]="VerifyEmail" class="bg-main-light rounded-4 shadow p-3" (ngSubmit)="verifyEmailSubmit()">
        <div class="my-2">
            <label for="email">email</label>
            <input formControlName="email" type="email" id="email" class="form-control">
            @if (VerifyEmail.get('email')?.errors && (VerifyEmail.get('email')?.touched ||
            VerifyEmail.get('email')?.dirty)) {
            <div class="alert alert-danger py-1 mt-2">
                @if (VerifyEmail.get('email')?.getError('required')) {
                <p> email is required</p>
                }
                @else if (VerifyEmail.get('email')?.getError('email')) {
                <p>Email is Invalid</p>
                }


            </div>
            }
        </div>
        @if (message) {
            <p>{{message}}</p>
        }
        <button [disabled]="VerifyEmail.invalid" class="btn-main">Verify Email</button>
      
    </form>
    }

    @else if (step==2) {
    <form [formGroup]="VerifyCode" class="bg-main-light rounded-4 shadow p-3" (ngSubmit)="verifyCodeSubmit()">
        <div class="my-2">
            <label for="resetCode">resetCode</label>
            <input formControlName="resetCode" type="text" id="resetCode" class="form-control">
            @if (VerifyCode.get('resetCode')?.errors && (VerifyCode.get('resetCode')?.touched ||
            VerifyCode.get('resetCode')?.dirty)) {
            <div class="alert alert-danger py-1 mt-2">
                @if (VerifyCode.get('resetCode')?.getError('required')) {
                <p> resetCode is required</p>
                }
                @else if (VerifyCode.get('resetCode')?.getError('pattern')) {
                <p>resetCode is Incorrect</p>
                }


            </div>
            }
        </div>
        @if (message) {
            <p>{{message}}</p>
        }
        <button [disabled]="VerifyCode.invalid" class="btn-main">Verify resetCode</button>
    </form>
    }

    @else if (step==3) {
    <form [formGroup]="resetPassword" class="bg-main-light rounded-4 shadow p-3" (ngSubmit)="resetPasswordSubmit()">
        <div class="my-2">
            <label for="email">email</label>
            <input readonly formControlName="email" type="email" id="email" class="form-control">
            @if (resetPassword.get('email')?.errors && (resetPassword.get('email')?.touched ||
            resetPassword.get('email')?.dirty)) {
            <div class="alert alert-danger py-1 mt-2">
                @if (resetPassword.get('email')?.getError('required')) {
                <p> email is required</p>
                }
                @else if (resetPassword.get('email')?.getError('email')) {
                <p>email is Invalid</p>
                }


            </div>
            }
        </div>

        <div class="my-2">
            <label for="newPassword">newPassword</label>
            <input formControlName="newPassword" type="password" id="newPassword" class="form-control">
            @if (resetPassword.get('newPassword')?.errors && (resetPassword.get('newPassword')?.touched ||
            resetPassword.get('newPassword')?.dirty)) {
            <div class="alert alert-danger py-1 mt-2">
                @if (resetPassword.get('newPassword')?.getError('required')) {
                <p> newPassword is required</p>
                }
                @else if (resetPassword.get('newPassword')?.getError('pattern')) {
                <p>newPassword is Invalid</p>
                }


            </div>
            }
        </div>
        <button [disabled]="resetPassword.invalid" class="btn-main">Send</button>
    </form>
    }

</section>